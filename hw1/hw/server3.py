import Pyro4
import random


@Pyro4.expose
class Coder(object):
    def func(self, num):
        #Q(x) = a0 + a1x + a2x2 + a3x3 + a4x4


       data = int(num)

       p = 82774018375762036230659850750851711854039699313175216914470363560945323457727
       a0 = 26748908084769669758664722731140522800875206292361297608046702271758631669759
       a1 = 59489944712712493230446426050522902095714591665803937192613571374709152682872
       a2 = 71257019652372732006624209284281187993740077445682918560838974809666187201576
       a3 = 55315635592811832356973556884353215645720087042315880077665613542569819620485
       a4 = 20411929856341763513465955098957309007252776763418101366798367886225234827183

       x0= a0%p
       x1= a1%p
       x2=a2%p
       x3=a3%p
       x4=a4%p
       d = data%p

       send_data= (x0 + (x1*d)%p + (x2*d*d)%p + (x3*d*d*d)%p + (x4*d*d*d*d)%p) %p

       n= str(send_data)


       return "Hello, {arg1}".format(arg1=n)


daemon = Pyro4.Daemon()
ns = Pyro4.locateNS()

uri = daemon.register(Coder)
ns.register("example.code", uri)

print('ready')
daemon.requestLoop()
